---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: local-infrastructure
  namespace: flux-system

resources:
  # Flux Kustomizations with proper dependency management
  - cert-manager.yaml       # Base dependency
  - cnpg.yaml              # Independent component
  - sealed-secrets.yaml    # Independent component
  - opentelemetry.yaml     # Depends on cert-manager
